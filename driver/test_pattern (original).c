// 32 x 32 x 16 bit icon.. RGB circles

#include <stdint.h>
#include "pru_shared_mem.h"

const uint8_t test_pattern_data[2048] = { 
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x50,0x03,0x88,0x02,0xc0,0x01,0xe0,0x00,0xf8,0x00,0xe0,0x00,0xc0,0x01,0x88,0x02,0x50,0x03,0x21,0x24,0x21,0x24,0x1a,0x43,0x14,0x82,0x0e,0xc1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x0e,0xc1,0x14,0x82,0x1a,0x43,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x40,0x03,0x98,0x02,0xe8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x98,0x02,0x41,0x23,0x32,0x43,0x14,0x82,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x14,0x82,0x1a,0x43,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x21,0x24,0x50,0x03,0xb8,0x01,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xa8,0x01,0x5a,0x43,0xbd,0xa1,0xbd,0xa1,0x4a,0x43,0x0d,0xa1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x0d,0xa1,0x1a,0x43,0x21,0x24,0x00,0x00,0x00,0x00
,0x00,0x00,0x21,0x24,0x40,0x03,0xb8,0x01,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xc0,0x01,0x59,0x23,0xbd,0xa1,0xff,0xe0,0xff,0xe0,0xbd,0xa1,0x3a,0x43,0x0e,0xc1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x0d,0xa1,0x1a,0x43,0x21,0x24,0x00,0x00
,0x00,0x00,0x21,0x24,0x98,0x02,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x70,0x02,0x9c,0x82,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0x9c,0x82,0x13,0x62,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x14,0x82,0x21,0x24,0x00,0x00
,0x21,0x24,0x50,0x03,0xe8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xc0,0x01,0x52,0x43,0xef,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xef,0xe0,0x52,0x43,0x0e,0xc1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x1a,0x43,0x21,0x24
,0x21,0x24,0x88,0x02,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x88,0x02,0x8c,0x82,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0x8c,0x82,0x14,0x82,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x14,0x82,0x21,0x24
,0x21,0x24,0xc0,0x01,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x58,0x03,0xc6,0xc1,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xff,0xe0,0xc6,0xc1,0x1a,0x43,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x0e,0xc1,0x21,0x24
,0x21,0x24,0xe0,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x31,0x24,0x84,0x82,0x5a,0x43,0x39,0x24,0x21,0x24,0x39,0x24,0x5a,0x43,0x8c,0x82,0xb5,0xa1,0x21,0x24,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x21,0x24
,0x21,0x24,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xc0,0x01,0x70,0x02,0x21,0x24,0x8c,0x91,0xc6,0xd8,0xe7,0xfc,0xff,0xff,0xe7,0xfc,0xc6,0xd8,0x8c,0x91,0x52,0x4a,0x21,0x24,0x0d,0xa1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x21,0x24
,0x21,0x24,0xe0,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xa8,0x01,0x58,0x07,0x98,0x13,0x39,0x27,0xe7,0xfc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xd6,0xda,0x14,0x93,0x1a,0x48,0x14,0x82,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x21,0x24
,0x21,0x24,0xc0,0x01,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xa8,0x01,0x58,0x09,0xb8,0x17,0xf8,0x1f,0x58,0x0b,0xc6,0xd8,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xc6,0xd8,0x07,0xff,0x0d,0xb7,0x1a,0x4a,0x13,0x62,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x0e,0xc1,0x21,0x24
,0x21,0x24,0x88,0x02,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0xc0,0x01,0x58,0x07,0xb8,0x17,0xf8,0x1f,0xf8,0x1f,0x88,0x11,0x8c,0x91,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x8c,0x92,0x07,0xff,0x07,0xff,0x0d,0xb7,0x1a,0x48,0x0d,0xa1,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x14,0x82,0x21,0x24
,0x21,0x24,0x50,0x03,0xe8,0x00,0xf8,0x00,0xf8,0x00,0xf8,0x00,0x70,0x02,0x98,0x13,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xc0,0x18,0x52,0x4a,0xef,0xfd,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xef,0xfd,0x4c,0x91,0x07,0xff,0x07,0xff,0x07,0xff,0x14,0x93,0x21,0x24,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x1a,0x43,0x21,0x24
,0x00,0x00,0x21,0x24,0x98,0x02,0xf8,0x00,0xf8,0x00,0xc0,0x01,0x50,0x0a,0xe8,0x1d,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0x70,0x0e,0x9c,0x93,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x94,0x93,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xfd,0x1a,0x4a,0x13,0x62,0x07,0xe0,0x07,0xe0,0x07,0xe0,0x14,0x82,0x21,0x24,0x00,0x00
,0x00,0x00,0x21,0x24,0x40,0x03,0xb8,0x01,0xf8,0x00,0x88,0x02,0x88,0x11,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xc0,0x18,0x51,0x2a,0xbd,0xb7,0xff,0xff,0xff,0xff,0xbd,0xb7,0x34,0x93,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x14,0x91,0x21,0x24,0x07,0xe0,0x07,0xe0,0x0e,0xc1,0x1a,0x43,0x21,0x24,0x00,0x00
,0x00,0x00,0x00,0x00,0x21,0x24,0x50,0x03,0xb8,0x01,0x58,0x03,0xc0,0x18,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xa8,0x15,0x5a,0x4b,0xbd,0xb7,0xbd,0xb7,0x4c,0x90,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x0e,0xd8,0x21,0x24,0x06,0xc0,0x06,0xc0,0x1a,0x43,0x21,0x24,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x40,0x03,0x31,0x24,0xd0,0x1a,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0xf8,0x1f,0x98,0x13,0x39,0x29,0x24,0x91,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x07,0xff,0x06,0xda,0x21,0x24,0x1b,0x63,0x1a,0x43,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x50,0x0a,0x88,0x11,0xc0,0x18,0xe0,0x1c,0xf8,0x1f,0xe0,0x1c,0xc0,0x18,0x88,0x11,0x50,0x0a,0x18,0x0b,0x12,0x50,0x14,0x92,0x0e,0xd8,0x07,0xfc,0x07,0xff,0x07,0xfc,0x0e,0xd8,0x14,0x91,0x1a,0x4a,0x21,0x24,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x08,0x16,0x10,0x11,0x18,0x0b,0x21,0x27,0x21,0x24,0x21,0x27,0x18,0x0b,0x10,0x11,0x08,0x18,0x00,0x1f,0x00,0x1f,0x08,0x18,0x10,0x11,0x18,0x0b,0x21,0x27,0x21,0x24,0x21,0x27,0x18,0x0b,0x10,0x10,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x08,0x18,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x08,0x18,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x10,0x11,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x10,0x11,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x18,0x0a,0x00,0x1d,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1d,0x18,0x0a,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x10,0x13,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x10,0x13,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x18,0x08,0x08,0x17,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x08,0x17,0x18,0x08,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x18,0x0a,0x08,0x17,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x08,0x17,0x18,0x0a,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x18,0x08,0x10,0x13,0x00,0x1d,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1f,0x00,0x1d,0x10,0x13,0x18,0x08,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x18,0x0a,0x10,0x11,0x08,0x18,0x00,0x1c,0x00,0x1f,0x00,0x1c,0x08,0x18,0x10,0x11,0x18,0x0a,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x21,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

#define FB_WIDTH  32
#define FB_HEIGHT 32

void load_test_pattern(volatile struct shared_mem *shared)
{
	uint8_t line, bit, color, j, x;
	uint8_t RU, GU, BU, RL, GL, BL, BM;
	uint16_t colorU, colorL, scanlen;
	volatile uint8_t *buffer;

	const uint16_t *fb = (const uint16_t *) test_pattern_data;
	
	scanlen = (FB_WIDTH / 32) * 32 * (FB_HEIGHT / (N_LINES * 2));
	
	buffer = shared->buffer;
	shared->scanlen = scanlen;
		
	for(line=0; line < N_LINES; line++) {
		// so.. this is for every line and every bit.. 
		// now we need to go over the actual image
		for (j = 0; j < FB_HEIGHT / (N_LINES * 2); j++ ) {
			for (x = 0; x < FB_WIDTH; x++) {
				colorU = fb[ FB_WIDTH * ( j*(2*N_LINES) + line ) + x];
				colorL = fb[ FB_WIDTH * ( j*(2*N_LINES) + N_LINES + line ) + x];
				RU = colorU >> 12;
				GU = colorU >> 7;
				BU = colorU >> 1;
				RL = colorL >> 12;
				GL = colorL >> 7;
				BL = colorL >> 1;
				 
				for (bit = 0; bit < N_BITS; bit++) {
					BM = 1U << bit;
					color = 0;
					if (RU & BM) color |= (1<<0);
					if (GU & BM) color |= (1<<1);
					if (BU & BM) color |= (1<<2);
					if (RL & BM) color |= (1<<3);
					if (GL & BM) color |= (1<<4);
					if (BL & BM) color |= (1<<5);
					buffer[ (line * N_BITS + bit) * scanlen + j * FB_WIDTH + x] = color;
				}
			}
		}
	}
}
